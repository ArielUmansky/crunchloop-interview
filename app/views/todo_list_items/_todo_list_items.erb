<ul id="todo_list_items" class="todo-items-list">
  <% todo_list_items.each do |item| %>
    <li id="<%= dom_id(item) %>" class="<%= 'completed' if item.completed %>">
      <%= item.title %>

      <%= form_with(url: todo_list_todo_list_item_path(todo_list, item), method: :patch, local: true, html: { class: "toggle-completed-form" }) do |f| %>
        <%= f.check_box :completed, checked: item.completed, onchange: 'this.form.submit();' %>
        <%= f.hidden_field :title, value: item.title %>
      <% end %>

      <%= button_to todo_list_todo_list_item_path(todo_list, item),
                    method: :delete,
                    form: { data: { turbo_confirm: "Are you sure?" } },
                    class: "btn btn-link delete-task-button",
                    title: "Delete task" do %>
        <i class="fas fa-trash"></i> 
      <% end %>
    </li>
  <% end %>
</ul>