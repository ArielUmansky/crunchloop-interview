<h1><%= @todo_list.name %></h1>

<h2>Tasks</h2>

<%= turbo_stream_from "todo_list_#{@todo_list.id}_items" %>

<h3>Add New Task</h3>

<%= form_with(model: [@todo_list, TodoListItem.new], local: false, html: { class: "new-task-form" }) do |form| %>
  <%= form.text_field :title, placeholder: "Task title", required: true %>
  <%= form.submit "Add Task" %>
<% end %>

<%= form_with url: complete_all_todo_list_path(@todo_list), method: :post, data: { turbo: true } do |f| %>
  <%= f.submit "Complete All", class: "btn btn-primary" %>
<% end %>

<%= link_to "Back to Lists", todo_lists_path, class: "btn btn-secondary" %>

<%= render partial: "todo_list_items/todo_list_items", locals: { todo_list: @todo_list, todo_list_items: @todo_list.todo_list_items } %>